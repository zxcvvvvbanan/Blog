import{_ as e,c as a,a0 as i,o as t}from"./chunks/framework.D84hx5uF.js";const k=JSON.parse('{"title":"Setting SSH on Fedora","description":"","frontmatter":{},"headers":[],"relativePath":"Linux/sshrocky.md","filePath":"Linux/sshrocky.md"}'),n={name:"Linux/sshrocky.md"};function h(l,s,o,r,d,p){return t(),a("div",null,s[0]||(s[0]=[i('<h1 id="setting-ssh-on-fedora" tabindex="-1">Setting SSH on Fedora <a class="header-anchor" href="#setting-ssh-on-fedora" aria-label="Permalink to &quot;Setting SSH on Fedora&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Tested on Fedora Linux</p></div><h2 id="check-whether-ssh-is-running-on-the-server-side-fedora-in-my-case" tabindex="-1">Check whether SSH is running on the server side (Fedora in my case) <a class="header-anchor" href="#check-whether-ssh-is-running-on-the-server-side-fedora-in-my-case" aria-label="Permalink to &quot;Check whether SSH is running on the server side (Fedora in my case)&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd.service</span></span></code></pre></div><h2 id="start-the-sshd-service" tabindex="-1">Start the <code>sshd</code> service <a class="header-anchor" href="#start-the-sshd-service" aria-label="Permalink to &quot;Start the `sshd` service&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd.service</span></span></code></pre></div><h2 id="change-the-default-port" tabindex="-1">Change the default port <a class="header-anchor" href="#change-the-default-port" aria-label="Permalink to &quot;Change the default port&quot;">​</a></h2><p>Open the SSH configuration file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span></code></pre></div><h2 id="find-and-locate-to-the-following-line" tabindex="-1">Find and locate to the following line: <a class="header-anchor" href="#find-and-locate-to-the-following-line" aria-label="Permalink to &quot;Find and locate to the following line:&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#Port 22</span></span></code></pre></div><h2 id="remove-the-and-change-the-port-number" tabindex="-1">Remove the <code>#</code> and change the port number: <a class="header-anchor" href="#remove-the-and-change-the-port-number" aria-label="Permalink to &quot;Remove the `#` and change the port number:&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {YOUR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NUMBER}</span></span></code></pre></div><h2 id="save-the-file-and-exit-the-editor" tabindex="-1">Save the file and exit the editor <a class="header-anchor" href="#save-the-file-and-exit-the-editor" aria-label="Permalink to &quot;Save the file and exit the editor&quot;">​</a></h2><p>In <code>vi</code>, you can do this by pressing <code>Esc</code>, then typing <code>:wq</code> and pressing Enter.</p><h2 id="restart-the-ssh-service-for-the-changes-to-take-effect" tabindex="-1">Restart the SSH service for the changes to take effect: <a class="header-anchor" href="#restart-the-ssh-service-for-the-changes-to-take-effect" aria-label="Permalink to &quot;Restart the SSH service for the changes to take effect:&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd</span></span></code></pre></div><h2 id="ensure-the-new-port-is-allowed-through-your-firewall" tabindex="-1">Ensure the new port is allowed through your firewall <a class="header-anchor" href="#ensure-the-new-port-is-allowed-through-your-firewall" aria-label="Permalink to &quot;Ensure the new port is allowed through your firewall&quot;">​</a></h2><p>For example, if you&#39;re using <code>ufw</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {YOUR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NUMBER}/tcp</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Usually, this works on other distros, but since we&#39;re on an SELinux system, we need to do one more thing.</p></div><h2 id="allow-ssh-connections-in-selinux" tabindex="-1">Allow SSH connections in SELinux <a class="header-anchor" href="#allow-ssh-connections-in-selinux" aria-label="Permalink to &quot;Allow SSH connections in SELinux&quot;">​</a></h2><p>Add a new port to the SELinux (Security-Enhanced Linux) policy to allow SSH connections:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> semanage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh_port_t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {YOUR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NUMBER}</span></span></code></pre></div><h2 id="confirm-that-ssh-is-listening-on-the-new-port" tabindex="-1">Confirm that SSH is listening on the new port <a class="header-anchor" href="#confirm-that-ssh-is-listening-on-the-new-port" aria-label="Permalink to &quot;Confirm that SSH is listening on the new port&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tuln</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {YOUR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NUMBER}</span></span></code></pre></div>',26)]))}const g=e(n,[["render",h]]);export{k as __pageData,g as default};
